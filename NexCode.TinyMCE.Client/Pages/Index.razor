@page "/"



<RichTextEditor DynamicPlugins="@(new[] { Plugin })" @ref="RichTextEditor" Options="Options">
    <strong>Test</strong>
</RichTextEditor>


@code
{


    private RichTextEditor RichTextEditor { get; set; }

    [Inject]
    private IJSRuntime JsRuntime { get; set; }

    public Index()
    {
        Plugin = new BlazorPlugin()
        {
            Name = "test",
            Buttons = new List<BlazorPlugin.BaseAction>()
            {
                new BlazorPlugin.BaseAction()
                {
                    OnAction = TestCall,
                    Text = "Call test"
                }
            }
        };
    }


    private BlazorPlugin Plugin;

    private RichTextEditorOptions Options = new RichTextEditorOptions()
    {
        Plugins = "test",
        Toolbar = "test"
    };


    private async void TestCall()
    {
        var module = await JsRuntime.InvokeAsync<IJSObjectReference>(
            "import", "./js/NewPlugin.js").AsTask();


        await module.InvokeVoidAsync("showDialog", RichTextEditor.Id);

    }
    

}
